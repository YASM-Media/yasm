FROM node:16-alpine

WORKDIR /client

COPY package.json .

RUN npm install --legacy-peer-deps

COPY . ./

ENV REACT_APP_FIREBASE_API_KEY=EXAMPLE
ENV REACT_APP_FIREBASE_APP_ID=EXAMPLE
ENV REACT_APP_FIREBASE_AUTH_DOMAIN=EXAMPLE
ENV REACT_APP_FIREBASE_MESSAGING_SENDER_ID=EXAMPLE
ENV REACT_APP_FIREBASE_PROJECT_ID=EXAMPLE
ENV REACT_APP_FIREBASE_STORAGE_BUCKET=EXAMPLE

EXPOSE 3000

CMD ["npm", "run", "start"]